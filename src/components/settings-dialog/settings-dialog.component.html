<div class="settings-dialog">
  <h2 mat-dialog-title>
    <mat-icon>settings</mat-icon>
    Settings
  </h2>

  <mat-dialog-content>
    <div class="settings-form">
      <!-- TMDB API Key -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>The Movie Database API Key</mat-label>
        <input
          matInput
          [(ngModel)]="settings().tmdbApiKey"
          placeholder="Enter your TMDB API key"
          type="password"
        />
        <mat-hint>
          Get your free API key at
          <a
            href="https://www.themoviedb.org/settings/api"
            target="_blank"
            rel="noopener"
          >
            themoviedb.org
          </a>
        </mat-hint>
      </mat-form-field>

      <!-- Theme Preferences -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Theme</mat-label>
        <mat-select [(ngModel)]="settings().theme">
          <mat-option value="auto">Auto (system)</mat-option>
          <mat-option value="light">Light</mat-option>
          <mat-option value="dark">Dark</mat-option>
        </mat-select>
        <mat-hint>Choose your theme preference</mat-hint>
      </mat-form-field>

      <!-- Default Output Path -->
      <div class="output-path-section">
        <label class="form-label">Default Output Path</label>
        <div class="path-selector">
          <div class="path-display">
            <mat-icon>folder</mat-icon>
            <span class="path-text">
              {{ settings().defaultOutputPath || "Same folder as source" }}
            </span>
          </div>
          <button
            mat-stroked-button
            type="button"
            (click)="selectDefaultOutputPath()"
            class="select-button"
          >
            <mat-icon>folder_open</mat-icon>
            Choose
          </button>
        </div>
        <div class="path-hint">
          Default path to save converted files. Leave empty to use the same
          folder as the source file.
        </div>
      </div>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button (click)="onReset()" color="warn">
      <mat-icon>restore</mat-icon>
      Reset
    </button>
    <button mat-button (click)="onCancel()">Cancel</button>
    <button mat-raised-button (click)="onSave()" color="primary">
      <mat-icon>save</mat-icon>
      Save
    </button>
  </mat-dialog-actions>
</div>
