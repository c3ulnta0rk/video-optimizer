<div class="advanced-appbar" (mousedown)="onMouseDown($event)">
  <div class="appbar-left">
    <div class="app-icon">
      <img src="assets/angular.svg" alt="App Icon" width="24" height="24" />
    </div>
    <span class="app-title">Video Optimizer</span>

    <!-- Menu principal -->
    <div class="main-menu">
      <button
        class="menu-btn"
        (click)="toggleMenu()"
        [class.active]="isMenuOpen()"
      >
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path
            d="M2 4h12M2 8h12M2 12h12"
            stroke="currentColor"
            stroke-width="2"
            fill="none"
          />
        </svg>
      </button>

      <div class="menu-dropdown" [class.open]="isMenuOpen()">
        <button class="menu-item" (click)="onSettingsClick()">
          <svg width="16" height="16" viewBox="0 0 16 16">
            <circle cx="8" cy="8" r="1.5" fill="currentColor" />
            <path
              d="M8 2v2M8 12v2M14 8h-2M4 8H2M12.5 3.5l-1.4 1.4M4.9 11.1l-1.4 1.4M12.5 12.5l-1.4-1.4M4.9 4.9l-1.4-1.4"
              stroke="currentColor"
              fill="none"
            />
          </svg>
          Paramètres
        </button>
      </div>
    </div>
  </div>

  <div class="appbar-center">
    <!-- Files selector intégré -->
  </div>

  <div class="appbar-right">
    <div class="integrated-files-selector">
      <app-files-selector></app-files-selector>
    </div>
    <!-- Actions rapides -->
    <div class="quick-actions">
      <button
        class="action-btn"
        (click)="onFilesSelect()"
        title="Ajouter des fichiers"
      >
        <svg width="18" height="18" viewBox="0 0 18 18">
          <path
            d="M9 3v12M3 9h12"
            stroke="currentColor"
            stroke-width="2"
            fill="none"
          />
        </svg>
      </button>

      <button class="action-btn" (click)="onToggleTheme()" title="Paramètres">
        <svg width="18" height="18" viewBox="0 0 18 18">
          <circle cx="9" cy="9" r="2" fill="currentColor" />
          <path
            d="M9 1v2M9 15v2M17 9h-2M3 9H1M15.5 4.5l-1.4 1.4M4.9 13.1l-1.4 1.4M15.5 13.5l-1.4-1.4M4.9 4.9l-1.4-1.4"
            stroke="currentColor"
            fill="none"
          />
        </svg>
      </button>
    </div>

    <!-- Contrôles de fenêtre -->
    <div class="window-controls">
      <button
        class="control-btn minimize"
        (click)="minimizeWindow()"
        title="Minimiser"
      >
        <svg width="12" height="12" viewBox="0 0 12 12">
          <rect x="2" y="5" width="8" height="2" fill="currentColor" />
        </svg>
      </button>

      <button
        class="control-btn maximize"
        (click)="maximizeWindow()"
        title="Maximiser"
      >
        <svg width="12" height="12" viewBox="0 0 12 12">
          <rect
            x="2"
            y="2"
            width="8"
            height="8"
            fill="none"
            stroke="currentColor"
            stroke-width="1"
          />
        </svg>
      </button>

      <button class="control-btn close" (click)="closeWindow()" title="Fermer">
        <svg width="12" height="12" viewBox="0 0 12 12">
          <path
            d="M2 2L10 10M10 2L2 10"
            stroke="currentColor"
            stroke-width="1.5"
            fill="none"
          />
        </svg>
      </button>
    </div>
  </div>
</div>
